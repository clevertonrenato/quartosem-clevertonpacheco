<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <Meta http-equiv = "refresh" content = "15" /> 
        <link href="estilos/tcc1.css" rel="stylesheet" type="text/css"/>
    </h:head>
    <h:body>
        <h:form>
            <h3>Cadastro de produtos</h3>
            <h:inputHidden id="edIDOculto" value="#{cadprodutoMB.cadastro_lanche.id}"/>

            <h:panelGrid columns="2">
                <h:outputLabel id="lblanche" value="Produto" for="edlanche"/>
                <h:inputText id="edlanche" label="lblanche"  value="#{cadprodutoMB.cadastro_lanche.lanche}"/>

                <h:outputLabel id="lbitens" value="Ingredientes" for="editens"/>
                <h:inputText id="editens" label="lbitens"  value="#{cadprodutoMB.cadastro_lanche.itens}"/>

                <h:outputLabel id="lbvpanche" value="Preço do produto" for="edplanche"/>
                <h:inputText id="edplanche" label="lbplanche" value="#{cadprodutoMB.cadastro_lanche.precolanche}">
                    <f:convertNumber type="currency" currencySymbol="R$"/>
                </h:inputText>
            </h:panelGrid>

            <h:commandButton id="btCadastrarlanche" value="Cadastrar" action="#{cadprodutoMB.salvar()}"  class="botao"/>
            <hr></hr>




            <h:dataTable var="cadprods" value="#{pedidoMB.pedidos}" styleClass="tabela" 
                         headerClass="cabecalho" columnClasses="ultimo, primeiro,seg">

                <h:column>
                    <f:facet name="header">
                        Sequencia
                    </f:facet>
                    #{cadprods.pedidoitens.id}
                </h:column> 
                <h:column>
                    <f:facet name="header">
                        Data
                    </f:facet>
                    <h:outputText value="#{cadprods.data}">
                        <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-3:00"/>
                    </h:outputText>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Id pedido
                    </f:facet>
                    #{cadprods.idpedido}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Cliente
                    </f:facet>
                    #{cadprods.cliente.nome}
                </h:column>                
                <h:column>
                    <f:facet name="header">
                        Endereço
                    </f:facet>
                    #{cadprods.cliente.endereco}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Número
                    </f:facet>
                    #{cadprods.cliente.numero}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Complemento
                    </f:facet>
                    #{cadprods.cliente.complemento}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Bairro
                    </f:facet>
                    #{cadprods.cliente.bairro}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Telefone
                    </f:facet>
                    #{cadprods.cliente.telefone}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Qtd
                    </f:facet>
                    #{cadprods.pedidoitens.quantidade}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Lanche
                    </f:facet>
                    #{cadprods.pedidoitens.produto.lanche}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Obs
                    </f:facet>
                    #{cadprods.pedidoitens.observacao}
                </h:column>
                <h:column>
                    <f:facet name="header">
                        Valor unitário
                    </f:facet>
                    <h:outputText value="#{cadprods.pedidoitens.unitario}">
                        <f:convertNumber type="currency"/>
                    </h:outputText>
                </h:column> 

            </h:dataTable>

            <hr></hr>

        </h:form>
    </h:body>
</html>

